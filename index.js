"use strict";var _require=require("./util"),prompt=_require.prompt,_require2=require("child_process"),execSync=_require2.execSync,spawnSync=_require2.spawnSync,rl=require("readline-sync");rl.setDefaultOptions({prompt:""});var merge=function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];return Object.assign.apply(Object,[{}].concat(e))},register=function(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];__synthesizer__tasks__.set(r,t)},run=function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=spawnSync(r,e,merge({stdio:"inherit"},t));if(0!==n.status)throw new Error(r+"["+e.join(", ")+"] exited with status "+n.status);return n},shell=function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return execSync(r,merge({stdio:"inherit",options:e}))},ask=function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.length>0&&prompt(r),rl.prompt(e)};module.exports={register:register,perform:__synthesizer__perform__,run:run,shell:shell,ask:ask};
